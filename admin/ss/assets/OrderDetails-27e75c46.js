import{H as y,r as l,X as u,j as e,b as r,Y as N,Z as v,_ as w,$ as k,a0 as B,L as i,a1 as _,d as S}from"./index-a646533f.js";import{a as $,b as L,c as P}from"./index.esm-fb358e0a.js";import{c as O}from"./index.esm-041452e2.js";import{B as D}from"./BreadCrumbs-b9ca7c48.js";const I="/assets/profile-a0f8ce7a.png",F=()=>{var d,n,x,o,m,h;const{state:t}=y(),[p,c]=l.useState(!1),[s,j]=l.useState(t!=null&&t.order?t.order:null),{id:f}=u();return console.log(s),l.useEffect(()=>{const a=async b=>{c(!0);const g=await S.get(`/orders/${b}`);console.log(g),j(g.data[0][0]),c(!1)};if(!s){a(f);return}},[]),e.jsx(e.Fragment,{children:p||!s?e.jsx("div",{className:"h-[80vh] flex items-center justify-center",children:e.jsx(r.Spinner,{color:"purple",className:"h-8 w-8"})}):e.jsxs("div",{className:"container",children:[e.jsx(D,{links:[{text:"الطلبات",href:"/orders"},{text:`${s.invoices.invoice_number}#`,href:"/orders/detailsOrder"}]}),e.jsxs("div",{className:"employee-data mt-8 rounded-lg overflow-hidden border",children:[e.jsxs("div",{className:"head flex items-center gap-3 bg-gray-50 p-3 text-gray-700 font-semibold",children:[e.jsx($,{className:"text-xl font-bold"}),e.jsx("h2",{children:"تفاصيل الطلب"})]}),e.jsxs("div",{className:"data flex flex-col md:flex-row justify-between p-4 gap-8",children:[e.jsxs("div",{className:"num text-center",children:[e.jsxs("span",{className:"flex items-center gap-2 mb-2 text-gray-400 text-sm font-medium justify-center",children:[e.jsx(L,{}),"رقم الطلب"]}),e.jsx("p",{className:"text-gray-800",children:s.invoices.invoice_number})]}),e.jsxs("div",{className:"date text-center",children:[e.jsxs("span",{className:"flex items-center gap-2 mb-2 text-gray-400 text-sm font-medium justify-center",children:[e.jsx(N,{}),"تاريخ الطلب"]}),e.jsx("p",{className:"text-gray-800",children:new Date(s.created_at).toDateString()})]}),e.jsxs("div",{className:"state text-center",children:[e.jsxs("span",{className:"flex items-center gap-2 mb-2 text-gray-400 text-sm font-medium justify-center",children:[e.jsx(v,{}),"حالة الطلب"]}),e.jsx("p",{className:"text-gray-800",children:s.status})]})]})]}),e.jsxs("div",{className:"row lg:grid lg:grid-cols-2 xl:grid-cols-3 gap-5 items-start",children:[e.jsxs("div",{className:"client-data mt-8 rounded-lg overflow-hidden border",children:[e.jsxs("div",{className:"head flex items-center gap-3 bg-gray-50 p-3 text-gray-700 font-semibold",children:[e.jsx(w,{className:"text-xl font-bold"}),e.jsx("h2",{children:"العميل"})]}),e.jsxs("div",{className:"data flex flex-col md:flex-row px-7 py-4 gap-8",children:[e.jsx("div",{className:"img h-12 w-12 rounded-full overflow-hidden",children:e.jsx("img",{src:(d=s==null?void 0:s.user)!=null&&d.image?`https://cartyi.com/storage/images/products/${s.user.image}`:I,alt:"profile-img",loading:"lazy",className:"w-full h-full"})}),e.jsxs("div",{className:"text text-purple-900",children:[e.jsx("h2",{className:"name mb-2",children:(n=s==null?void 0:s.user)==null?void 0:n.name}),e.jsx("div",{className:"call mb-2",children:(x=s==null?void 0:s.user)==null?void 0:x.phone}),e.jsxs("div",{className:"contact flex gap-2 ",children:[e.jsx("a",{href:`https://wa.me/+${(o=s==null?void 0:s.user)==null?void 0:o.phone}`,target:"_blank",children:e.jsx(r.IconButton,{variant:"filled",color:"green",children:e.jsx(k,{className:"text-white text-md"})})}),e.jsx("a",{href:`mailto:${(m=s==null?void 0:s.user)==null?void 0:m.email}`,className:"flex gap-2 items-center",target:"_blank",children:e.jsx(r.IconButton,{variant:"filled",color:"red",children:e.jsx(O,{className:"text-white"})})}),e.jsx("a",{href:`tel:+${(h=s==null?void 0:s.user)==null?void 0:h.phone}`,className:"flex gap-2 items-center",target:"_blank",children:e.jsx(r.IconButton,{variant:"filled",color:"blue",children:e.jsx(B,{className:"text-white"})})})]})]})]})]}),e.jsxs("div",{className:"products-data xl:col-span-2",children:[e.jsxs("div",{className:"mt-8 rounded-lg overflow-x-auto border",children:[e.jsxs("div",{className:"head flex items-center gap-3 bg-gray-50 p-3 text-gray-700 font-semibold",children:[e.jsx(P,{className:"text-xl font-bold"}),e.jsx("h2",{children:"المنتجات"})]}),e.jsx("div",{className:"data-table flex flex-col md:flex-row justify-between p-4 gap-8",children:e.jsxs("table",{id:"invoice-table",className:"w-full text-sm text-gray-500 text-right",children:[e.jsx("thead",{className:"text-xs text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-3",children:"المنتج"}),e.jsx("th",{scope:"col",className:"px-3 py-3",children:"الكمية"}),e.jsx("th",{scope:"col",className:"px-3 py-3",children:"السعر"}),e.jsx("th",{scope:"col",className:"px-3 py-3",children:"المجموع"})]})}),e.jsx("tbody",{children:s.items.map(a=>e.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-t border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsxs("th",{scope:"row",className:"flex items-center gap-3 px-3 py-4 text-gray-900 whitespace-nowrap",children:[e.jsx(i,{to:"#",className:"w-fit"}),e.jsx(i,{to:"#",className:"w-fit",children:e.jsx("div",{className:"",children:e.jsx("div",{className:"text-sm font-semibold text-purple-700 hover:text-purple-600",children:a.product_id.name})})})]}),e.jsx("td",{className:"px-3 py-4 font-semibold text-gray-400 text-right",children:a.quantity}),e.jsxs("td",{className:"px-3 py-4 text-gray-400",children:[a.product_id.price," ج.م"]}),e.jsxs("td",{className:"px-3 py-4 font-medium text-purple-700",children:[a.quantity*a.product_id.price," ج.م"]})]},a.id))}),e.jsxs("tfoot",{children:[e.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-t border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"px-3 py-2 font-semibold text-gray-400 text-right",colSpan:"3",children:"المجموع الفرعي"}),e.jsxs("td",{className:"px-3 py-2 font-semibold text-gray-400 text-right",children:[s.invoices.subtotal," ج.م"]})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-t border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"px-3 py-2 font-semibold text-gray-400 text-right",colSpan:"3",children:"الضريبه"}),e.jsxs("td",{className:"px-3 py-2 font-semibold text-gray-400 text-right",children:[s.invoices.tax," %"]})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-t border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"px-3 py-2 font-semibold text-gray-400 text-right",colSpan:"3",children:"المجموع الكلي"}),e.jsxs("td",{className:"px-3 py-2 font-semibold text-gray-400 text-right",children:[s.invoices.total," ج.م"]})]})]})]})})]}),e.jsxs(i,{to:`/print/${s.id}`,target:"_blank",className:"print mt-3 flex items-center gap-2 py-3 px-6 border w-fit rounded-md mx-auto bg-gray-100 text-gray-600 duration-300 hover:border-gray-400",children:[e.jsx(_,{}),"طباعة"]})]})]})]})})};export{F as default};
