import{u as f,r as u,a as h,j as e,b as r,A as y,c as j,L as b,d as v,n as w}from"./index-a646533f.js";const k=()=>{const{register:s,handleSubmit:c,setValue:o,formState:{errors:t}}=f(),[n,d]=u.useState(!1),[p,l]=u.useState(!1),m=h(),x=async a=>{if(a.role)try{l(!0);const i=await v.post("/register",a);l(!1),m("/auth/signin"),w("لقد تم إنشاء حسابك بنجاح")}catch(i){l(!1),console.log(i)}},g=()=>{d(a=>!a)};return e.jsx("div",{className:"signup min-w-[320px] md:min-w-[350px] w-[60%]",children:e.jsxs(r.Card,{color:"transparent",shadow:!1,children:[e.jsx(r.Typography,{variant:"h4",color:"gray",className:"text-center md:text-right",children:"إنشاء حساب"}),e.jsx(r.Typography,{color:"gray",className:"mt-1 font-normal text-center md:text-right",children:"قم بإدخال بياناتك لإنشاء حساب"}),e.jsxs("form",{onSubmit:c(x),className:"mt-8 mb-2 max-w-full",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-6",children:[e.jsx(r.Input,{...s("name",{required:!0}),error:!!t.name,variant:"standard",color:"purple",label:"الاسم بالكامل"}),e.jsx(r.Input,{...s("username",{required:!0}),error:!!t.username,variant:"standard",type:"text",color:"purple",label:"اسم المستخدم"}),e.jsx(r.Input,{...s("email",{required:!0,pattern:{value:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,message:"الرجاء استخدام بريد إلكتروني صالح"}}),error:!!t.email,variant:"standard",color:"purple",label:"البريد الإلكتروني"}),e.jsx(r.Input,{...s("phone",{required:!0}),error:!!t.phone,variant:"standard",type:"tel",color:"purple",label:"رقم الهاتف"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"cursor-pointer absolute px-2 left-0 z-10 top-1/2 -translate-y-1/2 hover:text-purple-500 duration-200",onClick:g,children:n?e.jsx(y,{className:"text-md"}):e.jsx(j,{className:"text-md"})}),e.jsx(r.Input,{...s("password",{required:!0,minLength:8}),error:!!t.password,variant:"standard",color:"purple",type:n?"text":"password",label:"كلمة المرور"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center pl-3",children:[e.jsx("input",{...s("role",{required:!0}),onChange:a=>o("role",a.currentTarget.value),id:"user",type:"radio",value:"User",name:"list-radio",color:"purple",className:"w-4 h-4 text-purple-500 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 focus:!shadow-none"}),e.jsx("label",{htmlFor:"user",className:"w-full py-1 mr-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"مشتري"})]}),e.jsxs("div",{className:"flex items-center pl-3",children:[e.jsx("input",{...s("role",{required:!0}),onChange:a=>o("role",a.currentTarget.value),id:"seller",type:"radio",value:"Seller",name:"list-radio",color:"purple",className:"w-4 h-4 text-purple-500 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 focus:!shadow-none"}),e.jsx("label",{htmlFor:"seller",className:"w-full py-1 mr-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"بائع"})]})]}),e.jsx(r.Button,{disabled:p,color:"purple",type:"submit",className:"mt-6",fullWidth:!0,children:"إنشاء حساب"}),e.jsxs(r.Typography,{color:"gray",className:"mt-4 text-center font-normal",children:["هل لديك حساب بالفعل؟",e.jsx(b,{to:"/auth/signin",className:"font-medium text-purple-500 transition-colors hover:text-purple-700",children:"تسجيل الدخول"})]})]})]})})};export{k as default};
