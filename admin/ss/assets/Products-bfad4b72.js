import{G as T,u as W,r as m,f as S,j as e,b as l,M,i as B,k as ae,e as E,m as O,o as te,B as ne,q as ie,s as oe,t as ce,w as de,x as xe,y as me,g as ue,z as pe,C as he,D as ge,E as fe,F as je}from"./index-a646533f.js";import{P as be}from"./index.esm-fb358e0a.js";import{T as ye,P as ve}from"./ProdFilter-37790635.js";import{B as Ne}from"./BreadCrumbs-b9ca7c48.js";import{a as ke}from"./index.esm-041452e2.js";import{L as Z}from"./index.esm-e3d69749.js";import{C as $}from"./index.esm-450a6448.js";import{b as we}from"./index.esm-53dab939.js";function z(s){return T({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM6 10V20H18V10H6ZM9 12H11V18H9V12ZM13 12H15V18H13V12ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9Z"}}]})(s)}const Ce="/prodDefault.webp",Le=()=>{const{register:s,getValues:o,setError:x,handleSubmit:c,reset:n,formState:{errors:y}}=W(),[v,u]=m.useState(!1),[N,t]=m.useState(!1),k=S(),j=async g=>{if(g.preventDefault(),!o("name")){x("name","name is required");return}t(!0),await k(ae({name:o("name")})),n(),t(!1),u(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(l.Button,{onClick:()=>u(!0),color:"purple",variant:"text",className:"px-2 w-[120px] rounded-l rounded-r-none bg-purple-100",children:"اضافة تصنيف"}),e.jsxs(M,{open:v,setOpen:u,children:[e.jsxs("div",{className:"flex justify-between bg-purple-50 p-4",children:[e.jsx(l.Typography,{variant:"h5",color:"purple",children:"الفئات"}),e.jsx(l.IconButton,{color:"purple",size:"sm",variant:"text",onClick:()=>u(!1),children:e.jsx(B,{})})]}),e.jsx(l.CardBody,{className:"flex flex-col gap-4",children:e.jsxs("form",{id:"category",children:[e.jsx(l.Input,{...s("name",{}),variant:"standard",color:"purple",label:"اكتب اسم الفئة",containerProps:{className:"mb-4"},size:"lg",error:!!y.name}),e.jsx(l.Button,{onClick:g=>j(g),type:"submit",form:"category",fullWidth:!0,color:"purple",disabled:N,children:"أضـف"})]})})]})]})};function Me(s){return T({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 6 4 L 6 9 L 5 9 L 5 11 L 8 11 L 8 6 L 24 6 L 24 26 L 8 26 L 8 23 L 6 23 L 6 28 L 26 28 L 26 4 Z M 16 10 C 13.800781 10 12 11.800781 12 14 C 12 15.113281 12.476563 16.117188 13.21875 16.84375 C 11.886719 17.746094 11 19.285156 11 21 L 13 21 C 13 19.34375 14.34375 18 16 18 C 17.65625 18 19 19.34375 19 21 L 21 21 C 21 19.285156 20.113281 17.746094 18.78125 16.84375 C 19.523438 16.117188 20 15.113281 20 14 C 20 11.800781 18.199219 10 16 10 Z M 6 12 L 6 14 L 5 14 L 5 16 L 8 16 L 8 12 Z M 16 12 C 17.117188 12 18 12.882813 18 14 C 18 15.117188 17.117188 16 16 16 C 14.882813 16 14 15.117188 14 14 C 14 12.882813 14.882813 12 16 12 Z M 6 17 L 6 19 L 5 19 L 5 21 L 8 21 L 8 17 Z"}}]})(s)}const Be=["جم","اوقيه","رطل","كجم"],I=({product:s,setSelectedProduct:o,selectedProduct:x,newProduct:c})=>{var _,A,P,F,V,H,D,q;const{register:n,handleSubmit:y,getValues:v,setValue:u,reset:N,formState:{errors:t}}=W({defaultValues:{name:s==null?void 0:s.name,price:s==null?void 0:s.price,weight_unit:s==null?void 0:s.weight_unit,delivery:(_=s==null?void 0:s.delivery)==null?void 0:_.toString(),weight:s==null?void 0:s.weight,cost:s==null?void 0:s.cost,qty:s==null?void 0:s.qty,discounted_price:s==null?void 0:s.discounted_price,reduction_end:s==null?void 0:s.reduction_end,sku:s==null?void 0:s.sku,Maximum_quantity:s==null?void 0:s.Maximum_quantity,description:s==null?void 0:s.description,category:((A=s==null?void 0:s.category_name)==null?void 0:A.length)>0?(P=s==null?void 0:s.category_name[0])==null?void 0:P.id:0}}),{categories:k}=E(r=>r.category),[j,g]=m.useState(!1),[d,f]=m.useState(((F=s==null?void 0:s.color_size)==null?void 0:F.length)>0?(V=s==null?void 0:s.color_size)==null?void 0:V.map(r=>{var a;return{name:r==null?void 0:r.color,sizes:(a=r==null?void 0:r.size)==null?void 0:a.split(",")}}):[]),[G,w]=m.useState(!1),[U,b]=m.useState(!1),[R,C]=m.useState(!1);m.useState(null);const L=S(),K=(r,a)=>{const{name:i,value:p}=a.target,h=[...d];h[r][i]=p,f(h)},J=(r,a,i)=>{const{value:p}=i.target,h=[...d];h[r].sizes[a]=p,f(h)},X=()=>{f([...d,{name:"#111111",sizes:[]}])},Q=r=>{const a=[...d];a.splice(r,1),f(a)},Y=r=>{const a=[...d];a[r].sizes.push(""),f(a)},ee=(r,a)=>{const i=[...d];i[r].sizes.splice(a,1),f(i)},se=async r=>{if(console.log("from prod item "+s.id),g(!0),c){const a={...r,colors:d.length>0?d:null};await L(de({data:a,newProdId:s.id}))}else{const a={...r,colors:d,_method:"PUT"};await L(xe({id:s.id,data:a}))}g(!1)},re=()=>{c||C(!0)},le=r=>{const a=new FormData;a.append("image",r),a.append("product_id",s.id),L(me({data:a,id:s.id}))};return e.jsxs(e.Fragment,{children:[e.jsx("form",{id:`update ${s.id}`,onSubmit:y(se),children:e.jsxs("div",{className:"border rounded-md p-4 ps-1 xl:ps-4 cursor-pointer flex",children:[e.jsx("div",{className:"flex items-center pe-2 self-start",children:c?e.jsx(O,{onClick:()=>L(te(s.id)),className:"text-red-500 cursor-pointer"}):e.jsxs(e.Fragment,{children:[e.jsx("input",{id:s==null?void 0:s.id,disabled:(s==null?void 0:s.status)==="cancel",onClick:r=>r.stopPropagation(),onChange:r=>r.target.checked?o(a=>[...a,+r.target.id]):o(a=>a.filter(i=>i!==+r.target.id)),type:"checkbox",checked:x.findIndex(r=>r===(s==null?void 0:s.id))>=0,className:"w-4 h-4 text-purple-600 bg-gray-100 bproduct-gray-300 rounded focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:bproduct-gray-600 cursor-pointer"}),e.jsx("label",{htmlFor:s==null?void 0:s.id,className:"sr-only",children:"checkbox"})]})}),e.jsxs("div",{className:"flex flex-1 gap-2 flex-col xl:flex-row",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex felx-1 w-full gap-2",children:[e.jsx("div",{onClick:()=>re(),className:`h-[84px] w-[84px] ${c?"opacity-50":""}`,children:e.jsx("img",{className:"w-full h-full object-contain",src:((H=s==null?void 0:s.product_image)==null?void 0:H.length)>0?`https://api.cartyi.com/storage/images/products/${(D=s==null?void 0:s.product_image[0])==null?void 0:D.image}`:Ce})}),e.jsx("div",{className:"flex flex-col flex-1 gap-2",children:e.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[e.jsxs("div",{className:"relative col-span-6 xl:col-span-4",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(Z,{className:"text-xl text-gray-500"})}),e.jsx("input",{...n("name",{required:!0}),className:`border border-gray-300 text-gray-900 text-sm rounded focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none ${t.name?"!border-red-500":""}`,placeholder:"اسم المنتج"})]}),e.jsxs("div",{className:"relative col-span-6 xl:col-span-2",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 top-1/2 h-fit translate-y-[-50%]",children:e.jsx(ye,{className:"text-xl text-gray-500"})}),e.jsx("input",{...n("price",{required:!0,valueAsNumber:!0}),className:`border border-gray-300 text-gray-900 text-sm rounded focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none ${t.price?"!border-red-500":""}`,placeholder:"السعر"}),e.jsx("div",{className:"absolute inset-y-0 left-0 px-3 text-sm flex items-center",children:"ج.م"})]})]})})]}),e.jsxs("div",{className:"porduct-input grid grid-cols-6 gap-2 mt-2",children:[e.jsxs("div",{className:"flex col-span-6 xl:col-span-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(ne,{className:"text-xl text-gray-500"})}),e.jsx("input",{...n("qty",{required:!0,valueAsNumber:!0}),className:`border border-gray-300 text-gray-900 text-sm rounded focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none ${t.qty?"!border-red-500":""}`,placeholder:"الكميه"})]}),e.jsx(l.Button,{onClick:()=>w(!0),className:"min-w-[80px] text-[10px] px-2 rounded rounded-r-none",color:"purple",variant:"text",children:"الخيارات والكميه"})]}),e.jsxs("div",{className:" col-span-6 xl:col-span-3 flex",children:[e.jsx("select",{id:"small",...n("category",{required:!0,valueAsNumber:!0}),placeholder:"اختر تصنيف المنتج",className:`block  w-full p-2.5 text-sm text-gray-900 border border-gray-300 rounded-r  focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500 ${t.category?"!border-red-500":""}`,children:k.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))}),e.jsx(Le,{})]})]})]}),e.jsx("div",{className:"flex-1 flex-col xl:flex gap-2",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l.Button,{onClick:()=>b(!0),className:"d-flex rounded min-w-[120px] px-3 items-center ",color:"purple",variant:"outlined",fullWidth:!0,children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(we,{className:"me-2"}),"بيانات المنتج"]})}),e.jsx(l.Button,{className:"d-flex rounded px-3 min-w-[120px] items-center ",color:"purple",variant:"filled",form:`update ${s.id}`,type:"submit",fullWidth:!0,disabled:j,children:c?"اضافه":"تعديل"})]})})]})]})}),e.jsxs(M,{open:G,setOpen:w,children:[e.jsxs("div",{className:"flex justify-between bg-purple-50 p-4",children:[e.jsx(l.Typography,{variant:"h5",color:"purple",children:"ادارة الالوان والاحجام"}),e.jsx(l.IconButton,{color:"purple",size:"sm",variant:"text",onClick:()=>w(!1),children:e.jsx(B,{})})]}),e.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:[e.jsx("div",{className:"flex flex-col gap-2",children:d.map((r,a)=>e.jsxs("div",{className:"rounded p-4 bg-purple-50",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("input",{className:"w-[120px] px-4 py-2 rounded-lg bg-purple-100 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your text",type:"color",name:"name",value:r.name,onChange:i=>K(a,i)}),e.jsx(l.IconButton,{onClick:()=>Q(a),variant:"filled",color:"red",children:e.jsx(z,{})})]}),e.jsx("div",{className:"flex flex-col gap-2 mt-2",children:r.sizes.map((i,p)=>e.jsxs("div",{className:"flex items-center col-span-6 xl:col-span-4 gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(Z,{className:"text-xl text-gray-500"})}),e.jsx("input",{value:i,onChange:h=>J(a,p,h),className:" border border-gray-300 text-gray-900 text-sm rounded focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"الحجم"})]}),e.jsx("div",{onClick:()=>ee(a,p),className:"w-[30px] h-[30px] flex items-center justify-center border-red-300 text-red-300 bg-white cursor-pointer border rounded-full",children:e.jsx(z,{className:"text-red-300 text-[12px]"})})]},p-a))}),e.jsx(l.Button,{className:"mt-3",onClick:()=>Y(a),fullWidth:!0,variant:"text",color:"purple",children:"اضافة حجم"})]},a))}),e.jsx(l.Button,{onClick:X,className:"rounuded  mt-4",fullWidth:!0,variant:"outlined",color:"purple",children:"اضافة لون"})]}),e.jsx(l.Button,{onClick:()=>w(!1),className:"rounded-none",fullWidth:!0,color:"deep-purple",children:"حفظ"})]}),e.jsx(M,{open:U,setOpen:b,children:e.jsxs("form",{children:[e.jsxs("div",{className:"flex justify-between bg-purple-50 p-4",children:[e.jsx(l.Typography,{variant:"h5",color:"purple",children:"تفاصيل المنتج"}),e.jsx(l.IconButton,{color:"purple",size:"sm",variant:"text",onClick:()=>b(!1),children:e.jsx(B,{})})]}),e.jsx("div",{className:" p-4 max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"inputs flex flex-col gap-5 max-h-[700px] overflow-y-auto",children:[e.jsx("div",{className:"w-full",children:e.jsxs(l.Select,{id:"select-c",label:"يتطلب شحن / توصيل ؟",className:"text-xs ",variant:"standard",color:"purple",dir:"rtl",arrow:!1,containerProps:{className:"mb-4 mt-3"},value:v("delivery"),onChange:r=>u("delivery",r),children:[e.jsx(l.Option,{value:"1",children:"نعم، يتطلب شحن"}),e.jsx(l.Option,{value:"0",children:"لا يتطلب شحن"})]})}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"price",className:"block mb-2 text-xs font-medium text-gray-900 dark:text-white",children:"سعر التكلفة"}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(ie,{})}),e.jsx("input",{...n("cost",{valueAsNumber:!0}),type:"number",id:"price",className:" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"سعر التكلفة"})]})]}),e.jsxs("div",{className:"flex justify-between items-end -mt-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"dis",className:"block mb-2 text-xs font-medium text-gray-900 dark:text-white",children:"الوزن"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx($,{})}),e.jsx("input",{...n("weight",{valueAsNumber:!0}),type:"number",id:"dis",className:" border border-gray-300 text-gray-900 text-sm rounded-r-lg rounded-l-none focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"الوزن"})]})]}),e.jsx("select",{id:"small",...n("weight_unit",{}),placeholder:"اختر تصنيف المنتج",className:`block h-fit  leading-[1px] p-2.5 text-sm text-gray-900 border border-gray-300 rounded-l rounded-r-none  focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500 ${t.weight_unit?"!border-red-500":""}`,children:Be.map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{className:"sm:flex justify-between -mt-2",children:[e.jsxs("div",{className:"sm:w-[47%] w-full",children:[e.jsx("label",{htmlFor:"dis",className:"block mb-2 text-xs font-medium text-gray-900 dark:text-white",children:"السعر المخفض"}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx($,{})}),e.jsx("input",{...n("discounted_price",{valueAsNumber:!0}),type:"number",id:"dis",className:" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"السعر المخفض"})]})]}),e.jsxs("div",{className:"sm:w-[47%] w-full",children:[e.jsx("label",{htmlFor:"dis-f",className:"block mb-2 text-xs font-medium text-gray-900 dark:text-white",children:"نهاية التخفيض"}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none"}),e.jsx("input",{type:"date",...n("reduction_end",{}),id:"dis-f",className:" border border-gray-300 text-gray-500 cursor-pointer text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5 outline-none",placeholder:"نهاية التخفيض"})]})]})]}),e.jsxs("div",{className:"w-full -mt-2",children:[e.jsx("label",{htmlFor:"sku",className:"block mb-2 text-xs font-medium text-gray-900 dark:text-white",children:"رمز التخزين"}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(oe,{})}),e.jsx("input",{...n("sku",{valueAsNumber:!0}),type:"number",id:"sku",className:" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"رمز رمز التخزين SKU"})]})]}),e.jsxs("div",{className:"w-full -mt-2",children:[e.jsx("label",{htmlFor:"max-m",className:"block mb-2 text-xs font-medium text-gray-900 dark:text-white",children:"أقصى كمية لكل عميل"}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(ce,{})}),e.jsx("input",{...n("Maximum_quantity",{valueAsNumber:!0}),type:"number",id:"max-m",className:" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"أقصى كمية لكل عميل"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"address-t",className:"block mb-2 text-xs font-medium text-gray-900 dark:text-white",children:"تحديد كمية المنتج"}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(Me,{})}),e.jsx("input",{...n("qty",{valueAsNumber:!0}),type:"text",className:" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"الكميه"})]})]}),e.jsx("div",{className:"w-full",children:e.jsx(l.Textarea,{...n("description",{}),color:"purple",variant:"standard",label:"وصف المنتج",className:"min-h-[170px]"})})]})}),e.jsxs("div",{className:"flex justify-between p-4",children:[e.jsx(l.Button,{variant:"text",onClick:()=>b(!1),className:"mr-1 bg-purple-200 text-gray-900 font-medium hover:bg-purple-300",children:e.jsx("span",{children:"حفظ بيانات المنتج"})}),e.jsx(l.Button,{variant:"text",onClick:()=>b(!1),className:"mr-1 bg-gray-200 text-gray-700 font-medium hover:bg-gray-300",children:e.jsx("span",{children:"إلغاء"})})]})]})}),e.jsxs(M,{open:R,setOpen:C,children:[e.jsxs("div",{className:"flex justify-between bg-purple-50 p-4",children:[e.jsx(l.Typography,{variant:"h5",color:"purple",children:"صور المنتج"}),e.jsx(l.IconButton,{color:"purple",size:"sm",variant:"text",onClick:()=>C(!1),children:e.jsx(B,{})})]}),e.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-scroll",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-24 p-6 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-8 h-8 mb-2 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),e.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:e.jsx("span",{className:"font-semibold",children:"اضغط لتحميل صورة المنتج"})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" ","PNG, JPG (MAX. 800x600px)"]})]}),e.jsx("input",{onChange:r=>le(r.target.files[0]),id:"dropzone-file",type:"file",className:"hidden"})]})}),e.jsx("div",{className:"w-full mt-5 grid grid-cols-2 gap-2",children:(q=s==null?void 0:s.product_image)==null?void 0:q.map(r=>e.jsxs("div",{className:"img relative h-[200px]",children:[e.jsx("img",{src:`https://api.cartyi.com/storage/images/products/${r.image}`,alt:"bag",className:"max-h-full rounded-md w-full h-full object-contain"}),e.jsx("div",{className:"remove-pic absolute -top-2 -right-2 text-red-500 text-xl cursor-pointer",children:e.jsx(O,{})})]},r.id))})]}),e.jsx("div",{className:" p-4",children:e.jsx(l.Button,{variant:"text",onClick:()=>C(!1),className:"mr-1 bg-gray-600 text-white font-medium hover:bg-gray-300 rounded-e-md",children:e.jsx("span",{children:"إغلاق"})})})]})]})},Se=()=>{const[s,o]=m.useState([]),{products:x,newProducts:c,from:n,to:y,current:v}=E(t=>t.product),u=S(),N=async()=>{s.length>0&&(await u(he({ids:s})),o([]))};return console.log(s),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-gray-700 mb-4 bg-gray-50 dark:bg-gray-700 dark:text-gray-400 flex justify-between w-full py-3 px-[18px]",children:[e.jsxs("div",{className:"col flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"checkbox-all",onChange:t=>t.target.checked?o(k=>x.map(j=>j.id)):o([]),type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e.jsx("label",{htmlFor:"checkbox-all",className:"sr-only",children:"checkbox"})]}),e.jsxs("div",{className:"text flex items-center gap-1",children:[e.jsx(ue,{className:"mx-auto text-gray-700 text-2xl"}),e.jsx("p",{className:"my-1 font-semibold",children:"المنتجات"}),e.jsxs("span",{className:"text-xs mr-1 text-gray-500",children:["(",x.length," منتج)"]})]})]}),e.jsx("div",{className:"col",children:e.jsxs(l.Menu,{placement:"bottom-end",children:[e.jsx(l.MenuHandler,{children:e.jsxs("div",{className:`border select-none border-purple-500 rounded-sm p-2 flex items-center gap-1 cursor-pointer text-xs duration-200  ${s.length>0?"":"hidden"}`,children:[e.jsx(ke,{}),"تحرير سريع"]})}),e.jsx(l.MenuList,{className:"p-0",children:e.jsxs(l.MenuItem,{onClick:()=>N(),className:"flex items-center py-3 gap-2",children:[e.jsx(pe,{}),"حذف من مجموعة"]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2  xl:grid-cols-1	 gap-[14px]",children:[c==null?void 0:c.map(t=>e.jsx(I,{product:t,newProduct:!0,selectedProduct:s,setSelectedProduct:o},t==null?void 0:t.id)),x==null?void 0:x.map(t=>e.jsx(I,{product:t,selectedProduct:s,setSelectedProduct:o},t==null?void 0:t.id))]})]})},_e=[{text:"المنتجات",href:"/products"}],Ze=()=>{const s=S();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"products-list",children:e.jsxs("div",{className:"container",children:[e.jsx(Ne,{links:_e}),e.jsxs("div",{className:"filter flex justify-between items-center mb-5",children:[e.jsxs(l.Button,{onClick:()=>s(ge()),className:"px-2 md:px-6 flex items-center gap-2 cursor-pointer",color:"purple",children:[e.jsx(fe,{}),"اضافة منتج جديد"]}),e.jsx("div",{className:"btn",children:e.jsxs("div",{className:"flex gap-1 text-sm font-medium text-gray-500",children:[e.jsx(ve,{}),e.jsxs(l.Menu,{placement:"bottom-end",children:[e.jsx(l.MenuHandler,{children:e.jsxs(l.Button,{className:"px-2 md:px-6 flex items-center gap-2 cursor-pointer",variant:"text",color:"purple",children:[e.jsx(be,{}),"خدمات"]})}),e.jsx(l.MenuList,{className:"p-0",children:e.jsxs("a",{href:"#",className:"flex gap-2 items-center w-full p-3",children:[e.jsx(je,{}),"تصنيفات المنتجات"]})})]})]})})]}),e.jsx(Se,{})]})})})};export{Ze as default};
