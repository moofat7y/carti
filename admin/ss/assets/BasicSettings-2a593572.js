import{G as N,e as w,u as k,r as l,a as L,f as C,j as e,a3 as M,a4 as B,a5 as S,a6 as V}from"./index-a646533f.js";import{B as F}from"./BreadCrumbs-b9ca7c48.js";import{a as A}from"./index.esm-450a6448.js";function G(s){return N({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205l3 1m1.5.5l-1.5-.5M6.75 7.364V3h-3v18m3-13.636l10.5-3.819"}}]})(s)}const D=()=>{const{settings:s}=w(t=>t.setting),{register:o,handleSubmit:d,setValue:r,getValues:U,formState:{errors:H}}=k(),[n,x]=l.useState(!1),[i,m]=l.useState(!1),[u,c]=l.useState(!1),p=L(),g=C(),h=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async t=>{const a=t.coords.latitude,v=t.coords.longitude,y=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${a}&longitude=${v}&localityLanguage=ar`)).json();r("city",y.city)}):console.log("Geolocation is not supported by this browser.")},f=t=>{t.target.files.length>0&&m(t.target.files[0])},b=t=>{t.target.files.length>0&&x(t.target.files[0])},j=async t=>{const a=new FormData;a.append("name",t.name),a.append("description",t.description),a.append("logo",i),a.append("favicon",n),a.append("location",t.city),a.append("_method","PUT"),console.log(t),c(!0),await g(V({data:a,navigate:p})),c(!1)};return l.useEffect(()=>{s&&(r("name",s.name),r("description",s.description),r("subdomain",s.subdomain),r("city",s.location))},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"basic-setting",children:e.jsxs("div",{className:"container",children:[e.jsx(F,{links:[{text:"الإعدادات",href:"/settings"},{text:"الإعدادات الأساسية",href:"/settings/basic"}]}),e.jsxs("div",{className:"edit-data mt-8 rounded-lg overflow-hidden border",children:[e.jsxs("div",{className:"head flex items-center gap-3 bg-gray-50 p-3 text-gray-700 font-semibold",children:[e.jsx(M,{className:"text-xl font-bold"}),e.jsx("h2",{children:"بيانات المتجر"})]}),e.jsxs("div",{className:"data flex flex-col justify-center items-center p-5 gap-10",children:[e.jsxs("div",{className:"upload-img flex flex-col gap-5 items-center justify-center",children:[e.jsx("div",{className:"img max-h-[300px] max-w-[200px] rounded-md overflow-hidden",children:i?e.jsx("img",{src:URL.createObjectURL(i),alt:"bag",className:"h-[140px] w-[140px] object-contain"}):s!=null&&s.logo?e.jsx("img",{src:"https://api.cartyi.com/storage/images/vendors/logos/"+s.logo,alt:"bag",className:"h-[140px] w-[140px] object-contain"}):e.jsxs("svg",{className:"w-[140px] h-[140px] text-gray-200 dark:text-gray-600","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 20",children:[e.jsx("path",{d:"M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"}),e.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"})]})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-24 p-6 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-8 h-8 mb-2 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),e.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:e.jsx("span",{className:"font-semibold",children:"اضغط لتحميل شعار المتجر"})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" ","PNG, JPG (MAX. 300x200px)"]})]}),e.jsx("input",{onChange:t=>f(t),id:"dropzone-file",type:"file",className:"hidden"})]})})]}),e.jsx("div",{className:"form w-full md:w-[60%]",children:e.jsxs("form",{onSubmit:d(j),children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(G,{className:"text-xl text-gray-500"})}),e.jsx("input",{...o("name",{required:!0}),className:" border border-gray-300 text-gray-900 text-sm rounded focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"اسم المتجر"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(B,{className:"text-xl text-gray-500"})}),e.jsx("input",{...o("subdomain",{required:!0}),disabled:!0,className:" border border-gray-300 text-gray-900 text-sm rounded focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(S,{className:"text-xl text-gray-500"})}),e.jsx("textarea",{...o("description",{required:!0}),placeholder:"عن المتجر..",className:"border border-gray-300 h-11 text-gray-900 text-sm rounded focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none",children:e.jsx(A,{className:"text-xl text-gray-500"})}),e.jsx("input",{...o("city",{required:!0}),type:"location",className:" border border-gray-300 text-gray-900 text-sm rounded focus:ring-purple-500 focus:border-purple-500 block w-full pr-10 p-2.5 outline-none",placeholder:"الموقع"}),e.jsx("button",{onClick:()=>h(),type:"button",className:"btn cursor-pointer h-full p-2 absolute bottom-0 left-0 top-1/2 -translate-y-1/2 bg-purple-300 hover:bg-purple-400 duration-300 text-purple-800 rounded-l",children:"تحديد تلقائي"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-5 justify-center lg:justify-between items-center",children:[e.jsxs("div",{className:"text text-center lg:text-right",children:[e.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"ايقونة تبويب المتجر في المتصفح"}),e.jsx("span",{className:"text-sm text-gray-500",children:"المقاس الانسب 32 بكسل عرض 32 بكسل ارتفاع"})]}),e.jsxs("label",{htmlFor:"logo",className:"cursor-pointer flex gap-2 items-center",children:[e.jsx("div",{className:"box-logo h-10 w-10 rounded-md bg-gray-100",children:e.jsx("div",{className:"logo w-full h-full relative",children:n?e.jsx("img",{src:URL.createObjectURL(n),alt:"bag",className:"max-h-full rounded-md h-full w-full object-contain"}):s!=null&&s.favicon?e.jsx("img",{src:"https://api.cartyi.com/storage/images/vendors/favicons/"+s.favicon,alt:"bag",className:"max-h-full rounded-md h-full w-full object-contain"}):e.jsx("svg",{className:"w-full h-full mb-2 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})})})}),e.jsx("p",{className:"text-sm text-gray-600",children:"رفع شعار ايقونة الموقع"})]}),e.jsx("input",{type:"file",onChange:t=>b(t),id:"logo",className:"hidden"})]}),e.jsx("div",{className:"save mt-10 mx-auto w-fit",children:e.jsx("button",{disabled:u,type:"submit",className:"bg-purple-300 hover:bg-purple-400 cursor-pointer text-purple-800 py-2 px-3 rounded-md duration-300",children:"حفـظ"})})]})})]})]})]})})})};export{D as default};
